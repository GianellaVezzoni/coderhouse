<div class="container d-flex justify-content-center align-items-center flex-column">
    <div>
        <h2 class="text-center">Bienvenido/a</h2>
        <br />
        <form class="form" role="form" id="colors" autocomplete="off">
            <div class="form-group">
                <input id="color" name="color" placeholder="Ingrese un color en ingles" class="form-control" type="text"
                    required />
            </div>

            <div class="form-group text-center">
                <input class="btn btn-success my-3" type="submit" value="Aceptar" />
            </div>
        </form>
    </div>
    <div>
        <ul id="colorList"></ul>
    </div>
</div>
<style>
    h2 {
        color: #FFFFFF;
    }
    body {
        background-color: #000000;
    }
</style>
<script>
    let formColors = document.getElementById("colors");
    obtenerColores()
    formColors.addEventListener('submit', (event) => {
        event.preventDefault();
        const body = {
            color: document.querySelector('[name="color"]').value
        }
        guardarColor(body)
        event.target.reset();
    })
    function guardarColor(body) {
        fetch('/colores', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(body)
        })
        .then(response => response.json())
        .then(data => {
            renderColors(data)
        })
        .catch(error => console.error(error));
    }
    function obtenerColores() {
        fetch('/colores', {
            method: 'GET',
        })
        .then(response => response.json())
        .then(data => {
            renderColors(data)
        })
        .catch(error => console.error(error));
    }
    function renderColors(data) {
        if (data.length > 0) {
            html = data.map(color => {
                return `<li style = "color: ${color}"> ${color} </li>`
            }).join(" ")
            document.getElementById("colorList").innerHTML = html;
        }
    }
</script>